import{C as lt,S as qo,i as jo,n as Vo,e as s,t as l,j as r,c as t,a as n,g as p,d as e,m as i,b as o,K as M,f as Go,F as a,L as Ko,s as Es,J as Yn,M as ws,N as Uo,O as Qo}from"../chunks/vendor-7ffe92ef.js";const Zn=d=>{const{subscribe:c,set:v}=lt({value:d});return{subscribe:c,update:m=>{if(m){const E=m(d);E!==void 0&&E!==d&&(d=E)}v({value:d})},set:m=>{d=m,v({value:d})}}},Jo=d=>{let c=!1;const v={value:d},m={value:d},{subscribe:E,set:z}=lt(v);return{subscribe:E,update:D=>{c=!c;const w=c?m:v;if(D){const W=D(d);W!==void 0&&W!==d&&(d=w.value=W)}z(w)},set:D=>{c=!c;const w=c?m:v;d=w.value=D,z(w)}}},Xo='<span class="token keyword">const</span> writableMap <span class="token operator">=</span> <span class="token function">writable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>',Yo=`$writableMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>`,Zo=`$writableMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> $writableMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$writableMap <span class="token operator">=</span> $writableMap<span class="token punctuation">;</span>`,xo='<span class="token keyword">const</span> writableMapCloned <span class="token operator">=</span> <span class="token function">writable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>',al=`$writableMapCloned<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>`,sl=`$writableMapCloned<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> $writableMapCloned<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$writableMapCloned <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>$writableMapCloned<span class="token punctuation">)</span><span class="token punctuation">;</span>`,tl='<span class="token keyword">const</span> derivedWritableMap <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span>writableMap<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">$v</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">value</span><span class="token operator">:</span> $v<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>',el=`$derivedWritableMap<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>`,nl=`$writableMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> $writableMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$writableMap <span class="token operator">=</span> $writableMap<span class="token punctuation">;</span>`,ol='<span class="token keyword">const</span> mutableMap <span class="token operator">=</span> <span class="token function">mutable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>',ll=`$mutableMap<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>`,pl=`mutableMap<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$v</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	$v<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> $v<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>`,cl='<span class="token keyword">const</span> fastMutableMap <span class="token operator">=</span> <span class="token function">fastMutable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>',ul=`$fastMutableMap<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>`,rl=`fastMutableMap<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$v</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	$v<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> $v<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>`,il='<span class="token keyword">const</span> mutableMapManual <span class="token operator">=</span> <span class="token function">mutable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>',dl=`$mutableMapManual<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>`,kl=`$mutableMapManual<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> $mutableMapManual<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mutableMapManual<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>`,fl=`$mutableMapManual<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> $mutableMapManual<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$mutableMapManual <span class="token operator">=</span> $mutableMapManual<span class="token punctuation">.</span>value<span class="token punctuation">;</span>`,vl='$mutableMapManual <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token comment">/*...*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>',bl='mutableMapManual<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token comment">/*...*/</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>';var h={ADef:Xo,ARead:Yo,AWrite:Zo,BDef:xo,BRead:al,BWrite:sl,CDef:tl,CRead:el,CWrite:nl,DDef:ol,DRead:ll,DWrite:pl,EDef:cl,ERead:ul,EWrite:rl,FDef:il,FRead:dl,F1Write:kl,F2Write:fl,F3Write:vl,F4Write:bl};function hl(d){let c,v,m,E,z,D,w,W,g,I,pa,$,ca,ua,C,Os,ys,k,pt,ia,ct,ut,rt,P,da,xn=h.ADef+"",it,q,j,ka,_s=d[0].get("a")+"",Ws,dt,fa,ao=h.ARead+"",kt,T,ft,va,vt,bt,V,ht,kn="{",mt,Et,wt,_t,ba,so=h.AWrite+"",Mt,G,gt,ha,zt,Dt,Ct,R,ma,to=h.BDef+"",Pt,K,U,Ea,Ms=d[1].get("a")+"",Ts,Rt,wa,eo=h.BRead+"",Ht,A,Ot,_a,yt,Wt,Ma,Tt,At,Lt,ga,no=h.BWrite+"",Ft,St,Nt,Q,$t,za,Bt,It,qt,jt,Vt,L,Gt,Da,Kt,Ut,Ca,Qt,Jt,Xt,H,Pa,oo=h.CDef+"",Yt,J,X,Ra,gs=d[3].value.get("a")+"",As,Zt,Ha,lo=h.CRead+"",xt,Y,ae,Oa,se,te,ee,ya,po=h.CWrite+"",ne,Z,oe,Wa,le,pe,ce,O,Ta,co=h.DDef+"",ue,x,aa,Aa,zs=d[4].value.get("a")+"",Ls,re,La,uo=h.DRead+"",ie,F,de,Fa,ke,fe,Sa,ve,be,he,Na,ro=h.DWrite+"",me,sa,Ee,$a,we,_e,Me,y,Ba,io=h.EDef+"",ge,ta,ea,Ia,Ds=d[5].value.get("a")+"",Fs,ze,qa,ko=h.ERead+"",De,S,Ce,ja,Pe,Re,Va,He,Oe,ye,Ga,fo=h.EWrite+"",We,na,Te,Ka,Ae,Le,Fe,Ua,vo=h.FDef+"",Se,b,oa,la,Qa,Cs=d[2].value.get("a")+"",Ss,Ne,Ja,bo=h.FRead+"",$e,N,Be,Xa,Ie,qe,Ya,je,Ve,Ge,Za,ho=h.F1Write+"",Ke,B,Ue,xa,Qe,Je,as,Xe,Ye,Ze,ss,mo=h.F2Write+"",xe,ra,an,ts,sn,tn,en,es,Eo=h.F3Write+"",nn,Ps,on,ln,ns,wo=h.F4Write+"",pn,cn,un,os,Rs,ls,rn,dn,fn;return{c(){c=s("main"),v=s("header"),m=s("h1"),E=s("a"),z=l("mutable"),D=r(),w=s("blockquote"),W=l("using mutable values in Svelte stores with the "),g=s("code"),I=l("immutable"),pa=l(` compiler flag \u2014
			`),$=s("a"),ca=l("learn more on GitHub"),ua=r(),C=s("button"),Os=l("click me to make number++ go up"),ys=r(),k=s("h2"),pt=l("A. "),ia=s("code"),ct=l("writable"),ut=l(" store (broken! D:)"),rt=r(),P=s("section"),da=s("pre"),it=r(),q=s("div"),j=s("p"),ka=s("span"),Ws=l(_s),dt=r(),fa=s("span"),kt=r(),T=s("p"),ft=l("fails to update as a "),va=s("code"),vt=l("writable"),bt=l(" store because "),V=s("code"),ht=l("immutable="),mt=l(kn),Et=l("true}"),wt=l(` and
				we're mutating the map`),_t=r(),ba=s("pre"),Mt=r(),G=s("h2"),gt=l("B. cloned "),ha=s("code"),zt=l("writable"),Dt=l(" store"),Ct=r(),R=s("section"),ma=s("pre"),Pt=r(),K=s("div"),U=s("p"),Ea=s("span"),Ts=l(Ms),Rt=r(),wa=s("span"),Ht=r(),A=s("p"),Ot=l("works for "),_a=s("code"),yt=l("Map"),Wt=l(`, but in some cases, causes tremendous garbage and slowness; also,
				it does not work for `),Ma=s("code"),Tt=l("WeakMap"),At=l(", one of the motivating usecases for this document"),Lt=r(),ga=s("pre"),Ft=r(),St=s("hr"),Nt=r(),Q=s("blockquote"),$t=l("in the examples below, notice that you need to access "),za=s("code"),Bt=l(".value"),It=l(" for reads, unlike above"),qt=r(),jt=s("hr"),Vt=r(),L=s("h2"),Gt=l("C. "),Da=s("code"),Kt=l("derived"),Ut=l(" from "),Ca=s("code"),Qt=l("writable"),Jt=l(" store"),Xt=r(),H=s("section"),Pa=s("pre"),Yt=r(),J=s("div"),X=s("p"),Ra=s("span"),As=l(gs),Zt=r(),Ha=s("span"),xt=r(),Y=s("p"),ae=l(`works with no new modules, and doesn't clone the map, but now we're juggling two stores, one
				for writes and one for reads; is error prone because reading the `),Oa=s("code"),se=l("writable"),te=l(` isn't
				reactive!`),ee=r(),ya=s("pre"),ne=r(),Z=s("h2"),oe=l("D. "),Wa=s("code"),le=l("mutable"),pe=l(" store"),ce=r(),O=s("section"),Ta=s("pre"),ue=r(),x=s("div"),aa=s("p"),Aa=s("span"),Ls=l(zs),re=r(),La=s("span"),ie=r(),F=s("p"),de=l("works because it's a "),Fa=s("code"),ke=l("mutable"),fe=l(` store; doesn't clone the map; however notice that
				you need to access `),Sa=s("code"),ve=l(".value"),be=l(" on reads"),he=r(),Na=s("pre"),me=r(),sa=s("h2"),Ee=l("E. "),$a=s("code"),we=l("fastMutable"),_e=l(" store"),Me=r(),y=s("section"),Ba=s("pre"),ge=r(),ta=s("div"),ea=s("p"),Ia=s("span"),Fs=l(Ds),ze=r(),qa=s("span"),De=r(),S=s("p"),Ce=l("works because it's a "),ja=s("code"),Pe=l("fastMutable"),Re=l(` store, which compared to
				`),Va=s("code"),He=l("mutable"),Oe=l(` is slightly more efficient because it swaps between two stable object references,
				so there's no extra garbage created, but it doesn't compose as an immutable value stream, so
				it may be a dangerously too-clever design`),ye=r(),Ga=s("pre"),We=r(),na=s("h2"),Te=l("F. "),Ka=s("code"),Ae=l("mutable"),Le=l(" store with manual update and set"),Fe=r(),Ua=s("pre"),Se=r(),b=s("section"),oa=s("div"),la=s("p"),Qa=s("span"),Ss=l(Cs),Ne=r(),Ja=s("span"),$e=r(),N=s("p"),Be=l("works because it's a "),Xa=s("code"),Ie=l("mutable"),qe=l(` store, but mutates the value directly and then
				manually calls `),Ya=s("code"),je=l(".update()"),Ve=l(", which may be an antipattern"),Ge=r(),Za=s("pre"),Ke=r(),B=s("p"),Ue=l("an alternative using the store's "),xa=s("code"),Qe=l("set"),Je=l(` method, which is extra awkward because of
			the `),as=s("code"),Xe=l(".value"),Ye=l(":"),Ze=r(),ss=s("pre"),xe=r(),ra=s("p"),an=l("and you can set a new value if you need to, but if this is all you need, prefer a "),ts=s("code"),sn=l("writable"),tn=l(":"),en=r(),es=s("pre"),nn=r(),Ps=s("p"),on=l("or:"),ln=r(),ns=s("pre"),pn=r(),cn=s("hr"),un=r(),os=s("footer"),Rs=s("p"),ls=s("a"),rn=l("get the docs and public domain source code on GitHub"),this.h()},l(f){c=t(f,"MAIN",{class:!0});var u=n(c);v=t(u,"HEADER",{});var Ns=n(v);m=t(Ns,"H1",{class:!0});var vn=n(m);E=t(vn,"A",{href:!0});var bn=n(E);z=p(bn,"mutable"),bn.forEach(e),vn.forEach(e),D=i(Ns),w=t(Ns,"BLOCKQUOTE",{});var Hs=n(w);W=p(Hs,"using mutable values in Svelte stores with the "),g=t(Hs,"CODE",{class:!0});var hn=n(g);I=p(hn,"immutable"),hn.forEach(e),pa=p(Hs,` compiler flag \u2014
			`),$=t(Hs,"A",{href:!0});var mn=n($);ca=p(mn,"learn more on GitHub"),mn.forEach(e),Hs.forEach(e),Ns.forEach(e),ua=i(u),C=t(u,"BUTTON",{class:!0});var En=n(C);Os=p(En,"click me to make number++ go up"),En.forEach(e),ys=i(u),k=t(u,"H2",{class:!0});var $s=n(k);pt=p($s,"A. "),ia=t($s,"CODE",{class:!0});var wn=n(ia);ct=p(wn,"writable"),wn.forEach(e),ut=p($s," store (broken! D:)"),$s.forEach(e),rt=i(u),P=t(u,"SECTION",{});var ps=n(P);da=t(ps,"PRE",{class:!0});var _o=n(da);_o.forEach(e),it=i(ps),q=t(ps,"DIV",{class:!0});var Bs=n(q);j=t(Bs,"P",{class:!0});var Is=n(j);ka=t(Is,"SPAN",{class:!0});var _n=n(ka);Ws=p(_n,_s),_n.forEach(e),dt=i(Is),fa=t(Is,"SPAN",{class:!0});var Mo=n(fa);Mo.forEach(e),Is.forEach(e),kt=i(Bs),T=t(Bs,"P",{class:!0});var cs=n(T);ft=p(cs,"fails to update as a "),va=t(cs,"CODE",{class:!0});var Mn=n(va);vt=p(Mn,"writable"),Mn.forEach(e),bt=p(cs," store because "),V=t(cs,"CODE",{class:!0});var qs=n(V);ht=p(qs,"immutable="),mt=p(qs,kn),Et=p(qs,"true}"),qs.forEach(e),wt=p(cs,` and
				we're mutating the map`),cs.forEach(e),Bs.forEach(e),_t=i(ps),ba=t(ps,"PRE",{class:!0});var go=n(ba);go.forEach(e),ps.forEach(e),Mt=i(u),G=t(u,"H2",{class:!0});var js=n(G);gt=p(js,"B. cloned "),ha=t(js,"CODE",{class:!0});var gn=n(ha);zt=p(gn,"writable"),gn.forEach(e),Dt=p(js," store"),js.forEach(e),Ct=i(u),R=t(u,"SECTION",{});var us=n(R);ma=t(us,"PRE",{class:!0});var zo=n(ma);zo.forEach(e),Pt=i(us),K=t(us,"DIV",{class:!0});var Vs=n(K);U=t(Vs,"P",{class:!0});var Gs=n(U);Ea=t(Gs,"SPAN",{class:!0});var zn=n(Ea);Ts=p(zn,Ms),zn.forEach(e),Rt=i(Gs),wa=t(Gs,"SPAN",{class:!0});var Do=n(wa);Do.forEach(e),Gs.forEach(e),Ht=i(Vs),A=t(Vs,"P",{class:!0});var rs=n(A);Ot=p(rs,"works for "),_a=t(rs,"CODE",{class:!0});var Dn=n(_a);yt=p(Dn,"Map"),Dn.forEach(e),Wt=p(rs,`, but in some cases, causes tremendous garbage and slowness; also,
				it does not work for `),Ma=t(rs,"CODE",{class:!0});var Cn=n(Ma);Tt=p(Cn,"WeakMap"),Cn.forEach(e),At=p(rs,", one of the motivating usecases for this document"),rs.forEach(e),Vs.forEach(e),Lt=i(us),ga=t(us,"PRE",{class:!0});var Co=n(ga);Co.forEach(e),us.forEach(e),Ft=i(u),St=t(u,"HR",{}),Nt=i(u),Q=t(u,"BLOCKQUOTE",{style:!0});var Ks=n(Q);$t=p(Ks,"in the examples below, notice that you need to access "),za=t(Ks,"CODE",{class:!0});var Pn=n(za);Bt=p(Pn,".value"),Pn.forEach(e),It=p(Ks," for reads, unlike above"),Ks.forEach(e),qt=i(u),jt=t(u,"HR",{}),Vt=i(u),L=t(u,"H2",{class:!0});var is=n(L);Gt=p(is,"C. "),Da=t(is,"CODE",{class:!0});var Rn=n(Da);Kt=p(Rn,"derived"),Rn.forEach(e),Ut=p(is," from "),Ca=t(is,"CODE",{class:!0});var Hn=n(Ca);Qt=p(Hn,"writable"),Hn.forEach(e),Jt=p(is," store"),is.forEach(e),Xt=i(u),H=t(u,"SECTION",{});var ds=n(H);Pa=t(ds,"PRE",{class:!0});var Po=n(Pa);Po.forEach(e),Yt=i(ds),J=t(ds,"DIV",{class:!0});var Us=n(J);X=t(Us,"P",{class:!0});var Qs=n(X);Ra=t(Qs,"SPAN",{class:!0});var On=n(Ra);As=p(On,gs),On.forEach(e),Zt=i(Qs),Ha=t(Qs,"SPAN",{class:!0});var Ro=n(Ha);Ro.forEach(e),Qs.forEach(e),xt=i(Us),Y=t(Us,"P",{class:!0});var Js=n(Y);ae=p(Js,`works with no new modules, and doesn't clone the map, but now we're juggling two stores, one
				for writes and one for reads; is error prone because reading the `),Oa=t(Js,"CODE",{class:!0});var yn=n(Oa);se=p(yn,"writable"),yn.forEach(e),te=p(Js,` isn't
				reactive!`),Js.forEach(e),Us.forEach(e),ee=i(ds),ya=t(ds,"PRE",{class:!0});var Ho=n(ya);Ho.forEach(e),ds.forEach(e),ne=i(u),Z=t(u,"H2",{class:!0});var Xs=n(Z);oe=p(Xs,"D. "),Wa=t(Xs,"CODE",{class:!0});var Wn=n(Wa);le=p(Wn,"mutable"),Wn.forEach(e),pe=p(Xs," store"),Xs.forEach(e),ce=i(u),O=t(u,"SECTION",{});var ks=n(O);Ta=t(ks,"PRE",{class:!0});var Oo=n(Ta);Oo.forEach(e),ue=i(ks),x=t(ks,"DIV",{class:!0});var Ys=n(x);aa=t(Ys,"P",{class:!0});var Zs=n(aa);Aa=t(Zs,"SPAN",{class:!0});var Tn=n(Aa);Ls=p(Tn,zs),Tn.forEach(e),re=i(Zs),La=t(Zs,"SPAN",{class:!0});var yo=n(La);yo.forEach(e),Zs.forEach(e),ie=i(Ys),F=t(Ys,"P",{class:!0});var fs=n(F);de=p(fs,"works because it's a "),Fa=t(fs,"CODE",{class:!0});var An=n(Fa);ke=p(An,"mutable"),An.forEach(e),fe=p(fs,` store; doesn't clone the map; however notice that
				you need to access `),Sa=t(fs,"CODE",{class:!0});var Ln=n(Sa);ve=p(Ln,".value"),Ln.forEach(e),be=p(fs," on reads"),fs.forEach(e),Ys.forEach(e),he=i(ks),Na=t(ks,"PRE",{class:!0});var Wo=n(Na);Wo.forEach(e),ks.forEach(e),me=i(u),sa=t(u,"H2",{class:!0});var xs=n(sa);Ee=p(xs,"E. "),$a=t(xs,"CODE",{class:!0});var Fn=n($a);we=p(Fn,"fastMutable"),Fn.forEach(e),_e=p(xs," store"),xs.forEach(e),Me=i(u),y=t(u,"SECTION",{});var vs=n(y);Ba=t(vs,"PRE",{class:!0});var To=n(Ba);To.forEach(e),ge=i(vs),ta=t(vs,"DIV",{class:!0});var at=n(ta);ea=t(at,"P",{class:!0});var st=n(ea);Ia=t(st,"SPAN",{class:!0});var Sn=n(Ia);Fs=p(Sn,Ds),Sn.forEach(e),ze=i(st),qa=t(st,"SPAN",{class:!0});var Ao=n(qa);Ao.forEach(e),st.forEach(e),De=i(at),S=t(at,"P",{class:!0});var bs=n(S);Ce=p(bs,"works because it's a "),ja=t(bs,"CODE",{class:!0});var Nn=n(ja);Pe=p(Nn,"fastMutable"),Nn.forEach(e),Re=p(bs,` store, which compared to
				`),Va=t(bs,"CODE",{class:!0});var $n=n(Va);He=p($n,"mutable"),$n.forEach(e),Oe=p(bs,` is slightly more efficient because it swaps between two stable object references,
				so there's no extra garbage created, but it doesn't compose as an immutable value stream, so
				it may be a dangerously too-clever design`),bs.forEach(e),at.forEach(e),ye=i(vs),Ga=t(vs,"PRE",{class:!0});var Lo=n(Ga);Lo.forEach(e),vs.forEach(e),We=i(u),na=t(u,"H2",{class:!0});var tt=n(na);Te=p(tt,"F. "),Ka=t(tt,"CODE",{class:!0});var Bn=n(Ka);Ae=p(Bn,"mutable"),Bn.forEach(e),Le=p(tt," store with manual update and set"),tt.forEach(e),Fe=i(u),Ua=t(u,"PRE",{class:!0});var Fo=n(Ua);Fo.forEach(e),Se=i(u),b=t(u,"SECTION",{});var _=n(b);oa=t(_,"DIV",{class:!0});var et=n(oa);la=t(et,"P",{class:!0});var nt=n(la);Qa=t(nt,"SPAN",{class:!0});var In=n(Qa);Ss=p(In,Cs),In.forEach(e),Ne=i(nt),Ja=t(nt,"SPAN",{class:!0});var So=n(Ja);So.forEach(e),nt.forEach(e),$e=i(et),N=t(et,"P",{class:!0});var hs=n(N);Be=p(hs,"works because it's a "),Xa=t(hs,"CODE",{class:!0});var qn=n(Xa);Ie=p(qn,"mutable"),qn.forEach(e),qe=p(hs,` store, but mutates the value directly and then
				manually calls `),Ya=t(hs,"CODE",{class:!0});var jn=n(Ya);je=p(jn,".update()"),jn.forEach(e),Ve=p(hs,", which may be an antipattern"),hs.forEach(e),et.forEach(e),Ge=i(_),Za=t(_,"PRE",{class:!0});var No=n(Za);No.forEach(e),Ke=i(_),B=t(_,"P",{});var ms=n(B);Ue=p(ms,"an alternative using the store's "),xa=t(ms,"CODE",{class:!0});var Vn=n(xa);Qe=p(Vn,"set"),Vn.forEach(e),Je=p(ms,` method, which is extra awkward because of
			the `),as=t(ms,"CODE",{class:!0});var Gn=n(as);Xe=p(Gn,".value"),Gn.forEach(e),Ye=p(ms,":"),ms.forEach(e),Ze=i(_),ss=t(_,"PRE",{class:!0});var $o=n(ss);$o.forEach(e),xe=i(_),ra=t(_,"P",{});var ot=n(ra);an=p(ot,"and you can set a new value if you need to, but if this is all you need, prefer a "),ts=t(ot,"CODE",{class:!0});var Kn=n(ts);sn=p(Kn,"writable"),Kn.forEach(e),tn=p(ot,":"),ot.forEach(e),en=i(_),es=t(_,"PRE",{class:!0});var Bo=n(es);Bo.forEach(e),nn=i(_),Ps=t(_,"P",{});var Un=n(Ps);on=p(Un,"or:"),Un.forEach(e),ln=i(_),ns=t(_,"PRE",{class:!0});var Io=n(ns);Io.forEach(e),_.forEach(e),pn=i(u),cn=t(u,"HR",{}),un=i(u),os=t(u,"FOOTER",{class:!0});var Qn=n(os);Rs=t(Qn,"P",{});var Jn=n(Rs);ls=t(Jn,"A",{href:!0});var Xn=n(ls);rn=p(Xn,"get the docs and public domain source code on GitHub"),Xn.forEach(e),Jn.forEach(e),Qn.forEach(e),u.forEach(e),this.h()},h(){o(E,"href","https://github.com/spiderspace/mutable"),o(m,"class","svelte-z1t7fb"),o(g,"class","svelte-z1t7fb"),o($,"href","https://github.com/spiderspace/mutable"),o(C,"class","svelte-z1t7fb"),o(ia,"class","svelte-z1t7fb"),o(k,"class","svelte-z1t7fb"),o(da,"class","panel-inset svelte-z1t7fb"),o(ka,"class","count svelte-z1t7fb"),o(fa,"class","read-example svelte-z1t7fb"),o(j,"class","count-wrapper panel-outset svelte-z1t7fb"),o(va,"class","svelte-z1t7fb"),o(V,"class","svelte-z1t7fb"),o(T,"class","count-label svelte-z1t7fb"),o(q,"class","count-with-label svelte-z1t7fb"),o(ba,"class","panel-inset svelte-z1t7fb"),M(P,"--hue",d[12](d[0].get("a")),!1),o(ha,"class","svelte-z1t7fb"),o(G,"class","svelte-z1t7fb"),o(ma,"class","panel-inset svelte-z1t7fb"),o(Ea,"class","count svelte-z1t7fb"),o(wa,"class","read-example svelte-z1t7fb"),o(U,"class","count-wrapper panel-outset svelte-z1t7fb"),o(_a,"class","svelte-z1t7fb"),o(Ma,"class","svelte-z1t7fb"),o(A,"class","count-label svelte-z1t7fb"),o(K,"class","count-with-label svelte-z1t7fb"),o(ga,"class","panel-inset svelte-z1t7fb"),M(R,"--hue",d[12](d[1].get("a")),!1),o(za,"class","svelte-z1t7fb"),M(Q,"margin-bottom","0"),o(Da,"class","svelte-z1t7fb"),o(Ca,"class","svelte-z1t7fb"),o(L,"class","svelte-z1t7fb"),o(Pa,"class","panel-inset svelte-z1t7fb"),o(Ra,"class","count svelte-z1t7fb"),o(Ha,"class","read-example svelte-z1t7fb"),o(X,"class","count-wrapper panel-outset svelte-z1t7fb"),o(Oa,"class","svelte-z1t7fb"),o(Y,"class","count-label svelte-z1t7fb"),o(J,"class","count-with-label svelte-z1t7fb"),o(ya,"class","panel-inset svelte-z1t7fb"),M(H,"--hue",d[12](d[3].value.get("a")),!1),o(Wa,"class","svelte-z1t7fb"),o(Z,"class","svelte-z1t7fb"),o(Ta,"class","panel-inset svelte-z1t7fb"),o(Aa,"class","count svelte-z1t7fb"),o(La,"class","read-example svelte-z1t7fb"),o(aa,"class","count-wrapper panel-outset svelte-z1t7fb"),o(Fa,"class","svelte-z1t7fb"),o(Sa,"class","svelte-z1t7fb"),o(F,"class","count-label svelte-z1t7fb"),o(x,"class","count-with-label svelte-z1t7fb"),o(Na,"class","panel-inset svelte-z1t7fb"),M(O,"--hue",d[12](d[4].value.get("a")),!1),o($a,"class","svelte-z1t7fb"),o(sa,"class","svelte-z1t7fb"),o(Ba,"class","panel-inset svelte-z1t7fb"),o(Ia,"class","count svelte-z1t7fb"),o(qa,"class","read-example svelte-z1t7fb"),o(ea,"class","count-wrapper panel-outset svelte-z1t7fb"),o(ja,"class","svelte-z1t7fb"),o(Va,"class","svelte-z1t7fb"),o(S,"class","count-label svelte-z1t7fb"),o(ta,"class","count-with-label svelte-z1t7fb"),o(Ga,"class","panel-inset svelte-z1t7fb"),M(y,"--hue",d[12](d[5].value.get("a")),!1),o(Ka,"class","svelte-z1t7fb"),o(na,"class","svelte-z1t7fb"),o(Ua,"class","panel-inset svelte-z1t7fb"),o(Qa,"class","count svelte-z1t7fb"),o(Ja,"class","read-example svelte-z1t7fb"),o(la,"class","count-wrapper panel-outset svelte-z1t7fb"),o(Xa,"class","svelte-z1t7fb"),o(Ya,"class","svelte-z1t7fb"),o(N,"class","count-label svelte-z1t7fb"),o(oa,"class","count-with-label svelte-z1t7fb"),o(Za,"class","panel-inset svelte-z1t7fb"),o(xa,"class","svelte-z1t7fb"),o(as,"class","svelte-z1t7fb"),o(ss,"class","panel-inset svelte-z1t7fb"),o(ts,"class","svelte-z1t7fb"),o(es,"class","panel-inset svelte-z1t7fb"),o(ns,"class","panel-inset svelte-z1t7fb"),M(b,"--hue",d[12](d[2].value.get("a")),!1),o(ls,"href","https://github.com/spiderspace/mutable"),o(os,"class","svelte-z1t7fb"),o(c,"class","markup column svelte-z1t7fb")},m(f,u){Go(f,c,u),a(c,v),a(v,m),a(m,E),a(E,z),a(v,D),a(v,w),a(w,W),a(w,g),a(g,I),a(w,pa),a(w,$),a($,ca),a(c,ua),a(c,C),a(C,Os),a(c,ys),a(c,k),a(k,pt),a(k,ia),a(ia,ct),a(k,ut),a(c,rt),a(c,P),a(P,da),da.innerHTML=xn,a(P,it),a(P,q),a(q,j),a(j,ka),a(ka,Ws),a(j,dt),a(j,fa),fa.innerHTML=ao,a(q,kt),a(q,T),a(T,ft),a(T,va),a(va,vt),a(T,bt),a(T,V),a(V,ht),a(V,mt),a(V,Et),a(T,wt),a(P,_t),a(P,ba),ba.innerHTML=so,a(c,Mt),a(c,G),a(G,gt),a(G,ha),a(ha,zt),a(G,Dt),a(c,Ct),a(c,R),a(R,ma),ma.innerHTML=to,a(R,Pt),a(R,K),a(K,U),a(U,Ea),a(Ea,Ts),a(U,Rt),a(U,wa),wa.innerHTML=eo,a(K,Ht),a(K,A),a(A,Ot),a(A,_a),a(_a,yt),a(A,Wt),a(A,Ma),a(Ma,Tt),a(A,At),a(R,Lt),a(R,ga),ga.innerHTML=no,a(c,Ft),a(c,St),a(c,Nt),a(c,Q),a(Q,$t),a(Q,za),a(za,Bt),a(Q,It),a(c,qt),a(c,jt),a(c,Vt),a(c,L),a(L,Gt),a(L,Da),a(Da,Kt),a(L,Ut),a(L,Ca),a(Ca,Qt),a(L,Jt),a(c,Xt),a(c,H),a(H,Pa),Pa.innerHTML=oo,a(H,Yt),a(H,J),a(J,X),a(X,Ra),a(Ra,As),a(X,Zt),a(X,Ha),Ha.innerHTML=lo,a(J,xt),a(J,Y),a(Y,ae),a(Y,Oa),a(Oa,se),a(Y,te),a(H,ee),a(H,ya),ya.innerHTML=po,a(c,ne),a(c,Z),a(Z,oe),a(Z,Wa),a(Wa,le),a(Z,pe),a(c,ce),a(c,O),a(O,Ta),Ta.innerHTML=co,a(O,ue),a(O,x),a(x,aa),a(aa,Aa),a(Aa,Ls),a(aa,re),a(aa,La),La.innerHTML=uo,a(x,ie),a(x,F),a(F,de),a(F,Fa),a(Fa,ke),a(F,fe),a(F,Sa),a(Sa,ve),a(F,be),a(O,he),a(O,Na),Na.innerHTML=ro,a(c,me),a(c,sa),a(sa,Ee),a(sa,$a),a($a,we),a(sa,_e),a(c,Me),a(c,y),a(y,Ba),Ba.innerHTML=io,a(y,ge),a(y,ta),a(ta,ea),a(ea,Ia),a(Ia,Fs),a(ea,ze),a(ea,qa),qa.innerHTML=ko,a(ta,De),a(ta,S),a(S,Ce),a(S,ja),a(ja,Pe),a(S,Re),a(S,Va),a(Va,He),a(S,Oe),a(y,ye),a(y,Ga),Ga.innerHTML=fo,a(c,We),a(c,na),a(na,Te),a(na,Ka),a(Ka,Ae),a(na,Le),a(c,Fe),a(c,Ua),Ua.innerHTML=vo,a(c,Se),a(c,b),a(b,oa),a(oa,la),a(la,Qa),a(Qa,Ss),a(la,Ne),a(la,Ja),Ja.innerHTML=bo,a(oa,$e),a(oa,N),a(N,Be),a(N,Xa),a(Xa,Ie),a(N,qe),a(N,Ya),a(Ya,je),a(N,Ve),a(b,Ge),a(b,Za),Za.innerHTML=ho,a(b,Ke),a(b,B),a(B,Ue),a(B,xa),a(xa,Qe),a(B,Je),a(B,as),a(as,Xe),a(B,Ye),a(b,Ze),a(b,ss),ss.innerHTML=mo,a(b,xe),a(b,ra),a(ra,an),a(ra,ts),a(ts,sn),a(ra,tn),a(b,en),a(b,es),es.innerHTML=Eo,a(b,nn),a(b,Ps),a(Ps,on),a(b,ln),a(b,ns),ns.innerHTML=wo,a(c,pn),a(c,cn),a(c,un),a(c,os),a(os,Rs),a(Rs,ls),a(ls,rn),dn||(fn=Ko(C,"click",d[13]),dn=!0)},p(f,[u]){u&1&&_s!==(_s=f[0].get("a")+"")&&Es(Ws,_s),u&1&&M(P,"--hue",f[12](f[0].get("a")),!1),u&2&&Ms!==(Ms=f[1].get("a")+"")&&Es(Ts,Ms),u&2&&M(R,"--hue",f[12](f[1].get("a")),!1),u&8&&gs!==(gs=f[3].value.get("a")+"")&&Es(As,gs),u&8&&M(H,"--hue",f[12](f[3].value.get("a")),!1),u&16&&zs!==(zs=f[4].value.get("a")+"")&&Es(Ls,zs),u&16&&M(O,"--hue",f[12](f[4].value.get("a")),!1),u&32&&Ds!==(Ds=f[5].value.get("a")+"")&&Es(Fs,Ds),u&32&&M(y,"--hue",f[12](f[5].value.get("a")),!1),u&4&&Cs!==(Cs=f[2].value.get("a")+"")&&Es(Ss,Cs),u&4&&M(b,"--hue",f[12](f[2].value.get("a")),!1)},i:Yn,o:Yn,d(f){f&&e(c),dn=!1,fn()}}}function ml(d,c,v){let m,E,z,D,w,W;const g=[["a",1]],I=lt(new Map(g));ws(d,I,k=>v(0,m=k));const pa=lt(new Map(g));ws(d,pa,k=>v(1,E=k));const $=Uo(I,k=>({value:k}));ws(d,$,k=>v(3,D=k));const ca=Zn(new Map(g));ws(d,ca,k=>v(4,w=k));const ua=Jo(new Map(g));ws(d,ua,k=>v(5,W=k));const C=Zn(new Map(g));return ws(d,C,k=>v(2,z=k)),[m,E,z,D,w,W,I,pa,$,ca,ua,C,k=>k*37+"",()=>{m.set("a",m.get("a")+1),I.set(m),E.set("a",E.get("a")+1),Qo(pa,E=new Map(E),E),ca.update(k=>{k.set("a",k.get("a")+1)}),ua.update(k=>{k.set("a",k.get("a")+1)}),z.value.set("a",z.value.get("a")+1),C.update()}]}class wl extends qo{constructor(c){super();jo(this,c,ml,hl,Vo,{})}}export{wl as default};
